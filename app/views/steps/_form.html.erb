<%= form_for :step, url: "/recipes/#{@recipe.slug}/steps" do |step| %>
    <%= step.hidden_field :recipe_id, value: @recipe.id %>
    <div class="flex flex-col w-full m-2">
        <%= step.label "Step Number", class: "w-full text-lg" %>
        <%= step.text_field :step_number, required: true, value: @step_number+1, class: "border border-slate-300 p-2 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"%>
    </div>

    <div class="flex flex-col w-full m-2">
        <%= step.label "Instructions", class: "w-full text-lg" %>
        <%= step.text_area :instruction, required: true, class: "border border-slate-300 p-2 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"%>
    </div>

    <div class="flex flex-col w-full m-2">
        <%= step.label "Duration", class: "w-full text-lg" %>
        <%= step.text_field :duration, placeholder: "leave blank if it is not a consideration", class: "border border-slate-300 p-2 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500"%>
        <div class="m-2">
            <ul class="items-center w-full text-sm font-medium text-heading bg-neutral-primary-soft border border-default rounded-lg sm:flex">
            <% Step.duration_units.keys.each do |unit| %>
                
                <li class="w-full border-b border-default sm:border-b-0 sm:border-r">
                    <div class="flex items-center ps-3">
                        <%= step.radio_button :duration_unit, unit, class: "w-4 h-4 text-neutral-primary border-default-medium bg-neutral-secondary-medium rounded-full checked:border-brand focus:ring-2  focus:outline-none focus:ring-brand-subtle border border-default" %>
                        <label for="horizontal-list-radio-license" class="w-full py-3 select-none ms-1 me-1 text-sm font-medium text-heading"><%= unit.humanize %> </label>
                    </div>
                </li>
            <% end %>
            </ul>
        </div>
    </div>

    <div class="flex flex-col w-full m-2">
        <%= step.label "Pre-Requisite Steps", class: "w-full text-lg" %>
        <%= step.text_field :pre_requisite_steps, class: "border border-slate-300 p-2 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500" %>
    </div>

    <div class="flex justify-between w-full m-2">
        <%= step.submit "+ Save step", class: "bg-blue-500 p-2 rounded-lg w-90 mx-2" %>
        <%= link_to "Go to the Recipe", recipe_path(@recipe), class: "text-center bg-blue-500 p-2 rounded-lg w-90 mx-2" %>
        <%= link_to "+ Add another ingredient to the recipe", new_recipe_ingredient_path(@recipe), class: "bg-blue-500 p-2 rounded-lg w-90 mx-2 text-center" %>
    </div>
<% end %>